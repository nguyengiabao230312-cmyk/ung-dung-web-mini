<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<title>·ª®ng d·ª•ng h·ªó tr·ª£ vi·∫øt ƒëo·∫°n vƒÉn cho h·ªçc sinh</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --bg:#f3f8ff;
    --bg-hero:#e0f2fe;
    --card:#ffffff;
    --ink:#1f2937;
    --muted:#6b7280;
    --brand:#2563eb;          /* xanh d∆∞∆°ng t∆∞∆°i */
    --brand-soft:#dbeafe;
    --brand-2:#22c55e;        /* xanh l√° */
    --accent:#f97316;         /* cam t∆∞∆°i */
    --ring:#bfdbfe;
    --shadow:0 10px 30px rgba(15,23,42,.09);
    --radius:16px;
  }
  *{box-sizing:border-box}
  html,body{
    margin:0;padding:0;
    background:var(--bg);
    color:var(--ink);
    font:16px/1.5 "Segoe UI",Inter,system-ui,-apple-system,Arial,sans-serif;
  }
  body{
    background:
      radial-gradient(900px 400px at 0% 0%, #e0f2fe 0, rgba(224,242,254,0) 60%),
      radial-gradient(800px 500px at 100% 100%, #fee2e2 0, rgba(254,226,226,0) 60%),
      var(--bg);
  }
  .wrap{
    max-width:1120px;
    margin-inline:auto;
    padding:20px 16px 32px;
  }

  /* HERO */
  .hero{
    display:flex;
    flex-wrap:wrap;
    gap:16px;
    align-items:center;
    justify-content:space-between;
    background:linear-gradient(135deg,#e0f2fe,#fef3c7);
    border-radius:24px;
    padding:22px 20px;
    box-shadow:var(--shadow);
    margin-bottom:20px;
    position:relative;
    overflow:hidden;
  }
  .hero::after{
    content:"‚úèÔ∏è";
    position:absolute;
    font-size:72px;
    opacity:.12;
    right:40px;
    bottom:-10px;
    transform:rotate(-10deg);
  }
  .hero-main{
    max-width:620px;
  }

  /* TI√äU ƒê·ªÄ N·ªîI B·∫¨T */
  .hero-title{
    margin:0 0 8px;
    font-size:30px;
    letter-spacing:.08em;
    text-transform:uppercase;
    color:#1d4ed8;
    display:flex;
    align-items:center;
    gap:10px;
    text-shadow:0 2px 8px rgba(37,99,235,.35);
  }
  .hero-icon{
    font-size:34px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    width:56px;
    height:56px;
    border-radius:18px;
    background:linear-gradient(135deg,#1d4ed8,#3b82f6);
    color:#eff6ff;
    box-shadow:0 8px 18px rgba(37,99,235,.45);
    flex-shrink:0;
  }
  .hero-title-text{
    display:inline-block;
  }

  @media(max-width:600px){
    .hero-title{
      font-size:22px;
      letter-spacing:.06em;
    }
    .hero-icon{
      width:48px;
      height:48px;
      font-size:30px;
      border-radius:16px;
    }
  }

  .hero p{
    margin:4px 0 10px;
    color:var(--muted);
  }
  .hero-tags{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
  }
  .tag{
    padding:4px 10px;
    border-radius:999px;
    font-size:12px;
    font-weight:600;
    background:rgba(255,255,255,.8);
    border:1px solid rgba(255,255,255,.9);
    display:inline-flex;
    align-items:center;
    gap:6px;
  }
  .tag span{
    font-size:11px;
    opacity:.7;
  }
  .hero-badge{
    padding:8px 10px;
    border-radius:999px;
    background:rgba(37,99,235,.08);
    border:1px solid rgba(37,99,235,.25);
    font-size:13px;
    font-weight:600;
    color:#1d4ed8;
    display:inline-flex;
    align-items:center;
    gap:6px;
  }
  .hero-badge svg{
    width:16px;height:16px;
  }

  /* LAYOUT GRID */
  .grid{
    display:grid;
    gap:16px;
  }
  @media(min-width:880px){
    .grid{
      grid-template-columns:1.1fr 0.9fr;
      align-items:flex-start;
    }
  }

  .card{
    background:var(--card);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:16px 18px 18px;
    border:1px solid rgba(148,163,184,.27);
    backdrop-filter:blur(4px);
  }
  h3{
    margin:0 0 10px;
    font-size:18px;
    display:flex;
    align-items:center;
    gap:8px;
  }
  h3 span.emoji{
    font-size:20px;
  }

  label{
    font-weight:600;
    font-size:14px;
    display:block;
    margin:10px 0 6px;
  }
  input[type="text"], textarea, select, input[type="number"]{
    width:100%;
    border:1px solid #d1d5db;
    border-radius:12px;
    padding:9px 11px;
    font-size:15px;
    background:#fff;
    outline:none;
    transition:.15s ease;
  }
  textarea{min-height:56px;resize:vertical}
  input:focus, textarea:focus, select:focus{
    box-shadow:0 0 0 3px var(--ring);
    border-color:#60a5fa;
  }

  .row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
  }
  @media(max-width:640px){
    .row{grid-template-columns:1fr}
  }

  .note{
    color:var(--muted);
    font-size:13px;
    margin-top:6px;
  }
  .small{
    font-size:12px;
    color:var(--muted);
  }

  /* TABS */
  .tabs{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    margin:6px 0 8px;
  }
  .tab{
    border:1px solid transparent;
    background:var(--brand-soft);
    border-radius:999px;
    padding:7px 13px;
    cursor:pointer;
    font-weight:600;
    color:#1d4ed8;
    font-size:13px;
    display:inline-flex;
    align-items:center;
    gap:6px;
    transition:.15s ease;
  }
  .tab::before{
    content:"‚Ä¢";
    font-size:16px;
    opacity:.7;
  }
  .tab:hover{
    background:#bfdbfe;
  }
  .tab.active{
    background:#1d4ed8;
    color:#fff;
    border-color:#1d4ed8;
  }
  .tab.active::before{
    content:"‚òÖ";
    font-size:13px;
  }

  .section{display:none;margin-top:8px}
  .section.active{display:block}

  .qbox{
    border:1px solid #e5e7eb;
    border-radius:14px;
    padding:10px 10px 8px;
    margin-bottom:10px;
    background:#f9fafb;
    position:relative;
  }
  .qbox label{
    margin-top:4px;
    font-size:14px;
  }
  .qbox::before{
    content:"?";
    position:absolute;
    top:10px;right:12px;
    width:18px;height:18px;
    border-radius:999px;
    background:#e0f2fe;
    color:#0369a1;
    font-size:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    opacity:.7;
  }

  .qbox .row2{
    display:grid;
    grid-template-columns:230px 1fr;
    gap:8px;
    margin-top:4px;
  }
  @media(max-width:760px){
    .qbox .row2{grid-template-columns:1fr}
  }

  /* TOOLBAR + KPI */
  .toolbar{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    margin-top:12px;
  }
  .btn{
    border:0;
    border-radius:999px;
    padding:9px 13px;
    font-weight:600;
    cursor:pointer;
    display:inline-flex;
    align-items:center;
    gap:7px;
    font-size:13px;
    transition:.16s ease;
    box-shadow:0 2px 6px rgba(15,23,42,.12);
    white-space:nowrap;
  }
  .btn svg{width:18px;height:18px}
  .btn.primary{
    background:var(--brand);
    color:#fff;
  }
  .btn.primary:hover{filter:brightness(.96);transform:translateY(-1px);}
  .btn.success{
    background:var(--brand-2);
    color:#052e16;
  }
  .btn.neutral{
    background:#e5e7eb;
    color:#111827;
  }
  .btn.warn{
    background:var(--accent);
    color:#3b2a00;
  }
  .btn.ghost{
    background:transparent;
    border:1px dashed #d4d4d8;
    box-shadow:none;
  }
  .btn.ghost:hover{
    background:#f4f4f5;
  }

  .meter{
    margin-top:12px;
    border:1px solid #e5e7eb;
    border-radius:16px;
    padding:10px 10px 12px;
    background:#ffffff;
  }
  .meter-title{
    font-size:13px;
    font-weight:600;
    color:#0f172a;
    margin-bottom:4px;
    display:flex;
    align-items:center;
    gap:6px;
  }
  .kpi{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
  }
  .pill{
    display:inline-grid;
    grid-auto-flow:column;
    gap:6px;
    align-items:center;
    background:#eff6ff;
    border:1px solid #bfdbfe;
    color:#1e40af;
    padding:5px 8px;
    border-radius:999px;
    font-size:12px;
    font-weight:600;
  }
  .pill.low{
    background:#fff7ed;
    border-color:#fed7aa;
    color:#7c2d12;
  }
  .pill.high{
    background:#fef2f2;
    border-color:#fecaca;
    color:#7f1d1d;
  }
  .meter .bars{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:12px;
    margin-top:6px;
  }
  @media(max-width:640px){
    .meter .bars{grid-template-columns:1fr}
  }
  .progress{
    height:10px;
    background:#e5e7eb;
    border-radius:999px;
    overflow:hidden;
  }
  .progress > span{
    display:block;
    height:100%;
    background:linear-gradient(90deg,#38bdf8,#22c55e);
    width:0%;
    transition:width .25s ease;
  }

  /* RESULT */
  #result{
    min-height:120px;
    background:#f9fafb;
  }

  .footer{
    margin:20px 0 8px;
    text-align:center;
    color:var(--muted);
    font-size:12px;
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <div class="hero-main">
        <div class="hero-badge">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M4 12l4 7 12-14" stroke="#1d4ed8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          H·ªó tr·ª£ luy·ªán vi·∫øt ƒëo·∫°n vƒÉn
        </div>
        <h1 class="hero-title">
          <span class="hero-icon" aria-hidden="true">üìò</span>
          <span class="hero-title-text">
            ·ª®NG D·ª§NG H·ªñ TR·ª¢ VI·∫æT ƒêO·∫†N VƒÇN CHO H·ªåC SINH
          </span>
        </h1>
        <p>C√°c ki·ªÉu: <b>Mi√™u t·∫£ ‚Ä¢ T·ª± s·ª± ‚Ä¢ Bi·ªÉu c·∫£m ‚Ä¢ Ngh·ªã lu·∫≠n</b> ‚Äî Ch·∫°y <b>offline</b>, d√πng ngay tr√™n tr√¨nh duy·ªát.</p>
        <div class="hero-tags">
          <div class="tag">üéØ <span>M·ª•c ti√™u s·ªë c√¢u, s·ªë t·ª´</span></div>
          <div class="tag">üìÑ <span>Xu·∫•t .txt &amp; .doc</span></div>
          <div class="tag">‚úÇÔ∏è <span>Gh√©p √Ω th√†nh ƒëo·∫°n</span></div>
        </div>
      </div>
    </div>

    <div class="grid">
      <!-- TH√îNG TIN CHUNG -->
      <div class="card">
        <h3><span class="emoji">üßæ</span> 1) Th√¥ng tin chung</h3>
        <div class="row">
          <div>
            <label for="studentName">H·ªç v√† t√™n</label>
            <input id="studentName" type="text" placeholder="Nh·∫≠p h·ªç t√™n c·ªßa b·∫°n" />
          </div>
          <div>
            <label for="studentClass">L·ªõp</label>
            <input id="studentClass" type="text" placeholder="V√≠ d·ª•: 6A1, 7A3, 8A1, 9A2..." />
          </div>
        </div>
        <label for="topic">ƒê·ªÅ b√†i</label>
        <textarea id="topic" placeholder="Ghi ƒë·ªÅ b√†i: V√≠ d·ª• &quot;Vi·∫øt ƒëo·∫°n vƒÉn ngh·ªã lu·∫≠n (8‚Äì10 c√¢u) tr√¨nh b√†y suy nghƒ© c·ªßa b·∫°n v·ªÅ tinh th·∫ßn t·ª± h·ªçc&quot;."></textarea>

        <label>Ch·ªçn ki·ªÉu ƒëo·∫°n vƒÉn</label>
        <div class="tabs" id="typeTabs">
          <button class="tab" data-target="mieuTa">Mi√™u t·∫£</button>
          <button class="tab" data-target="tuSu">T·ª± s·ª±</button>
          <button class="tab" data-target="bieuCam">Bi·ªÉu c·∫£m</button>
          <button class="tab" data-target="nghiLuan">Ngh·ªã lu·∫≠n</button>
        </div>
        <div class="note">Nh·∫•n v√†o m·ªôt ki·ªÉu ƒë·ªÉ m·ªü ph·∫ßn g·ª£i √Ω t∆∞∆°ng ·ª©ng b√™n d∆∞·ªõi. Tr·∫£ l·ªùi t·ª´ng √Ω, sau ƒë√≥ b·∫•m <b>&quot;Gh√©p ƒëo·∫°n vƒÉn&quot;</b>.</div>
      </div>

      <!-- C√ÄI ƒê·∫∂T M·ª§C TI√äU & C√îNG C·ª§ -->
      <div class="card">
        <h3><span class="emoji">üõ†Ô∏è</span> 2) M·ª•c ti√™u & C√¥ng c·ª•</h3>
        <div class="row">
          <div>
            <label for="targetSent">M·ª•c ti√™u s·ªë c√¢u</label>
            <input id="targetSent" type="number" min="3" max="20" step="1" value="10" />
          </div>
          <div>
            <label for="targetWords">M·ª•c ti√™u s·ªë t·ª´</label>
            <input id="targetWords" type="number" min="40" max="300" step="5" value="130" />
          </div>
        </div>
        <div class="row" style="margin-top:8px">
          <div>
            <label class="small">Th√™m d·∫•u ch·∫•m t·ª± ƒë·ªông n·∫øu thi·∫øu cu·ªëi c√¢u</label>
            <input id="autoDot" type="checkbox" checked /> <span class="small">B·∫≠t</span>
          </div>
          <div>
            <label class="small">B·ªè qua √¥ tr·ªëng khi gh√©p (khuy√™n d√πng)</label>
            <input id="skipEmpty" type="checkbox" checked /> <span class="small">B·∫≠t</span>
          </div>
        </div>

        <div class="toolbar">
          <button class="btn primary" id="joinBtn" title="Gh√©p c√°c √Ω th√†nh ƒëo·∫°n">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M3 12h12m0 0l-4-4m4 4l-4 4M14 7h5a2 2 0 012 2v6a2 2 0 01-2 2h-5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Gh√©p ƒëo·∫°n vƒÉn
          </button>
          <button class="btn success" id="copyBtn">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M8 16h8a2 2 0 002-2V6a2 2 0 00-2-2H8M6 8H5a2 2 0 00-2 2v8a2 2 0 002 2h9a2 2 0 002-2v-1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Sao ch√©p
          </button>
          <button class="btn neutral" id="downloadTxtBtn">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M4 17v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5 5-5M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            T·∫£i .txt
          </button>
          <button class="btn neutral" id="downloadDocBtn">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M7 3h7l5 5v11a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10 12h4M10 15h4M10 9h1" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            T·∫£i .doc
          </button>
          <button class="btn warn" id="printBtn">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M6 9V4h12v5M6 18h12v-6H6v6zM6 14h12M8 4h8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            In
          </button>
          <button class="btn ghost" id="clearBtn">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M3 6h18M9 6V4h6v2M7 6l1.5 12a2 2 0 002 2h3a2 2 0 002-2L17 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            L√†m m·ªõi
          </button>
        </div>

        <div class="meter">
          <div class="meter-title">Ti·∫øn ƒë·ªô ƒëo·∫°n vƒÉn</div>
          <div class="kpi">
            <span class="pill">S·ªë t·ª´: <b id="wordCount">0</b></span>
            <span class="pill">S·ªë c√¢u (∆∞·ªõc l∆∞·ª£ng): <b id="sentenceCount">0</b></span>
            <span class="pill low" id="statusWords">T·ª´: ch∆∞a ƒë·∫°t</span>
            <span class="pill low" id="statusSent">C√¢u: ch∆∞a ƒë·∫°t</span>
          </div>
          <div class="bars">
            <div>
              <div class="small">Ti·∫øn ƒë·ªô s·ªë t·ª´</div>
              <div class="progress"><span id="barWords"></span></div>
            </div>
            <div>
              <div class="small">Ti·∫øn ƒë·ªô s·ªë c√¢u</div>
              <div class="progress"><span id="barSent"></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- KHU C√ÇU H·ªéI G·ª¢I √ù -->
    <div class="card">
      <h3><span class="emoji">üí°</span> 3) G·ª£i √Ω theo ki·ªÉu ƒëo·∫°n (b·ªï sung & to√†n di·ªán)</h3>
      <div class="note">M·ªói √Ω g·ªìm <b>t·ª´ n·ªëi</b> (t√πy ch·ªçn) + <b>c√¢u b·∫°n vi·∫øt</b>. C√≥ th·ªÉ b·ªè tr·ªëng √Ω kh√¥ng c·∫ßn.</div>

      <!-- MI√äU T·∫¢ (10 √Ω) -->
      <div class="section" id="mieuTa">
        <div class="qbox">
          <label>1. Gi·ªõi thi·ªáu ƒë·ªëi t∆∞·ª£ng mi√™u t·∫£ (ai/c√°i g√¨/khung c·∫£nh)?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Tr∆∞·ªõc h·∫øt,</option><option>Ngay t·ª´ c√°i nh√¨n ƒë·∫ßu ti√™n,</option>
              <option>Nh·∫Øc ƒë·∫øn,</option><option>M·ªói khi nh·∫Øc t·ªõi,</option><option>Trong s·ªë nh·ªØng h√¨nh ·∫£nh quen thu·ªôc,</option>
            </select>
            <textarea class="input-field" placeholder="V√≠ d·ª•: M√¨nh mu·ªën t·∫£ c√¢y ph∆∞·ª£ng ·ªü s√¢n tr∆∞·ªùng..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>2. B·ªëi c·∫£nh th·ªùi gian ‚Äì kh√¥ng gian ‚Äì g√≥c nh√¨n?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Ti·∫øp theo,</option><option>ƒê·ªìng th·ªùi,</option><option>Kh√¥ng ch·ªâ v·∫≠y,</option><option>B√™n c·∫°nh ƒë√≥,</option>
            </select>
            <textarea class="input-field" placeholder="V√†o bu·ªïi s·ªõm m√πa h√®, t·ª´ c·ª≠a l·ªõp m√¨nh nh√¨n ra..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>3. H√¨nh d√°ng/ƒë·∫∑c ƒëi·ªÉm t·ªïng qu√°t n·ªïi b·∫≠t?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>ƒê·∫∑c bi·ªát,</option><option>·∫§n t∆∞·ª£ng h∆°n c·∫£,</option><option>Kh√¥ng ch·ªâ v·∫≠y,</option>
            </select>
            <textarea class="input-field" placeholder="T√°n ph∆∞·ª£ng x√≤e r·ªông, th√¢n c√¢y s·∫´m m√†u..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>4. Chi ti·∫øt c·∫£m gi√°c (m√†u s·∫Øc/√¢m thanh/m√πi h∆∞∆°ng/ch·∫°m)?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>H∆°n n·ªØa,</option><option>B√™n c·∫°nh ƒë√≥,</option><option>Kh√¥ng ch·ªâ v·∫≠y,</option>
            </select>
            <textarea class="input-field" placeholder="M√πi hoa ph∆∞·ª£ng thoang tho·∫£ng, ti·∫øng ve r·ªôn r√†ng..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>5. M·ªôt‚Äìhai chi ti·∫øt g√¢y ·∫•n t∆∞·ª£ng m·∫°nh (ti√™u ƒëi·ªÉm)?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>M·ªôt chi ti·∫øt khi·∫øn m√¨nh ·∫•n t∆∞·ª£ng l√†,</option><option>·∫§n t∆∞·ª£ng nh·∫•t l√†,</option>
            </select>
            <textarea class="input-field" placeholder="Nh·ªØng c√°nh ph∆∞·ª£ng r∆°i ƒë·ªè th·∫Øm tr√™n s√¢n g·∫°ch..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>6. So s√°nh/·∫©n d·ª•/nh√¢n ho√° l√†m n·ªïi b·∫≠t ƒë·ªëi t∆∞·ª£ng?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T·ª±a nh∆∞,</option><option>T·ª±a h·ªì,</option><option>C√≥ th·ªÉ v√≠ nh∆∞,</option>
            </select>
            <textarea class="input-field" placeholder="T√°n l√° nh∆∞ √¥ che m√°t tu·ªïi h·ªçc tr√≤..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>7. Di·ªÖn bi·∫øn/bi·∫øn ƒë·ªïi theo th·ªùi ƒëi·ªÉm (s√°ng‚Äìtr∆∞a‚Äìchi·ªÅu/m√πa)?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>V√†o bu·ªïi s√°ng,</option><option>ƒê·∫øn tr∆∞a,</option><option>Chi·ªÅu xu·ªëng,</option><option>V√†o m·ªói m√πa,</option>
            </select>
            <textarea class="input-field" placeholder="S√°ng s·ªõm √°nh n·∫Øng r·∫£i qua t√°n l√°..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>8. C·∫£m x√∫c/·∫•n t∆∞·ª£ng c√° nh√¢n g·∫Øn v·ªõi k√≠ ·ª©c/k·ªâ ni·ªám?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>V√¨ th·∫ø,</option><option>Ch√≠nh v√¨ v·∫≠y,</option><option>C√≥ l·∫Ω ch√≠nh v√¨ th·∫ø,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh th·∫•y m√πa h√® ƒë·∫øn th·∫≠t g·∫ßn g≈©i, r·ªôn r√†ng..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>9. √ù nghƒ©a/gi√° tr·ªã c·ªßa ƒë·ªëi t∆∞·ª£ng (v·ªõi b·∫°n/t·∫≠p th·ªÉ)?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>C√≥ th·ªÉ n√≥i r·∫±ng,</option><option>Nh√¨n chung,</option><option>Quan tr·ªçng h∆°n,</option>
            </select>
            <textarea class="input-field" placeholder="C√¢y ph∆∞·ª£ng nh∆∞ bi·ªÉu t∆∞·ª£ng c·ªßa s√¢n tr∆∞·ªùng..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>10. K·∫øt ƒëo·∫°n ‚Äì kh·∫≥ng ƒë·ªãnh/nh·∫Øn g·ª≠i/nguy·ªán v·ªçng?</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T√≥m l·∫°i,</option><option>Sau c√πng,</option><option>T·ª±u trung l·∫°i,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh lu√¥n tr√¢n tr·ªçng h√¨nh ·∫£nh c√¢y ph∆∞·ª£ng..."></textarea>
          </div>
        </div>
      </div>

      <!-- T·ª∞ S·ª∞ (10 √Ω) -->
      <div class="section" id="tuSu">
        <div class="qbox">
          <label>1. Gi·ªõi thi·ªáu s·ª± vi·ªác/k·ªâ ni·ªám (m·ªü chuy·ªán)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>H·ªìi ƒë√≥,</option><option>Ng√†y ·∫•y,</option><option>M·ªôt l·∫ßn,</option><option>V√†o m·ªôt bu·ªïi,</option><option>Khi c√≤n nh·ªè,</option>
            </select>
            <textarea class="input-field" placeholder="M·ªôt l·∫ßn m√¨nh l·∫°c ƒë∆∞·ªùng sau gi·ªù h·ªçc th√™m..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>2. B·ªëi c·∫£nh (ƒë√¢u, khi n√†o, ai li√™n quan)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>L√∫c ƒë√≥,</option><option>Khi ·∫•y,</option><option>Trong ho√†n c·∫£nh ·∫•y,</option>
            </select>
            <textarea class="input-field" placeholder="Tr·ªùi m∆∞a l·ªõn, ƒë∆∞·ªùng t·ªëi, ch·ªâ c√≤n v√†i ng∆∞·ªùi qua l·∫°i..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>3. Kh·ªüi ƒë·∫ßu s·ª± vi·ªác (m·ªü n√∫t)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Ban ƒë·∫ßu,</option><option>M·ªü ƒë·∫ßu c√¢u chuy·ªán,</option><option>Tho·∫°t ƒë·∫ßu,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh g·ªçi ƒëi·ªán v·ªÅ nh√† nh∆∞ng m√°y h·∫øt pin..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>4. Di·ªÖn bi·∫øn 1 (h√†nh ƒë·ªông/l·ªùi n√≥i/chi ti·∫øt b·∫•t ng·ªù)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Sau ƒë√≥,</option><option>Ti·∫øp theo,</option><option>Kh√¥ng l√¢u sau,</option><option>B·∫•t ng·ªù thay,</option><option>Th·∫ø nh∆∞ng,</option>
            </select>
            <textarea class="input-field" placeholder="M·ªôt b√°c b·∫£o v·ªá ƒë·∫øn h·ªèi thƒÉm v√† ch·ªâ ƒë∆∞·ªùng..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>5. Di·ªÖn bi·∫øn 2 (cao tr√†o/cu·ªôc xung ƒë·ªôt/gi·∫£i ph√°p)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>C√πng l√∫c,</option><option>ƒê·ªìng th·ªùi,</option><option>M·ªôt m·∫∑t,</option><option>M·∫∑t kh√°c,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh b√¨nh tƒ©nh l√†m theo h∆∞·ªõng d·∫´n..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>6. K·∫øt qu·∫£/k·∫øt th√∫c s·ª± vi·ªác (th√°o n√∫t)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Cu·ªëi c√πng,</option><option>K·∫øt th√∫c c√¢u chuy·ªán l√†,</option><option>Sau t·∫•t c·∫£,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh v·ªÅ t·ªõi nh√† an to√†n..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>7. C·∫£m x√∫c ‚Äì ·∫•n t∆∞·ª£ng ƒë·ªçng l·∫°i</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Nghƒ© l·∫°i,</option><option>Cho ƒë·∫øn b√¢y gi·ªù,</option><option>M·ªói l·∫ßn nh·ªõ l·∫°i,</option>
            </select>
            <textarea class="input-field" placeholder="V·∫´n th·∫•y ·∫•m √°p v√† bi·∫øt ∆°n..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>8. B√†i h·ªçc/√Ω nghƒ©a t·ª´ s·ª± vi·ªác</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T·ª´ c√¢u chuy·ªán ƒë√≥,</option><option>C√≥ l·∫Ω v√¨ th·∫ø m√†,</option><option>T√¥i lu√¥n nh·ªõ r·∫±ng,</option>
            </select>
            <textarea class="input-field" placeholder="Lu√¥n s·∫°c pin ƒëi·ªán tho·∫°i, ghi nh·ªõ s·ªë li√™n l·∫°c kh·∫©n c·∫•p..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>9. Li√™n h·ªá (b·∫£n th√¢n/hi·ªán t·∫°i/t∆∞∆°ng lai)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T·ª´ ƒë√≥,</option><option>K·ªÉ t·ª´ ng√†y ·∫•y,</option><option>V·ªÅ sau,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh c·∫©n th·∫≠n h∆°n khi ƒëi ƒë∆∞·ªùng, chu·∫©n b·ªã kƒ© l∆∞·ª°ng..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>10. K·∫øt ƒëo·∫°n (suy ng·∫´m kh√©p l·∫°i)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T√≥m l·∫°i,</option><option>Sau c√πng,</option><option>T·ª±u trung l·∫°i,</option>
            </select>
            <textarea class="input-field" placeholder="ƒê√≥ l√† m·ªôt k·ªâ ni·ªám ƒë√°ng nh·ªõ gi√∫p m√¨nh tr∆∞·ªüng th√†nh..."></textarea>
          </div>
        </div>
      </div>

      <!-- BI·ªÇU C·∫¢M (8 √Ω) -->
      <div class="section" id="bieuCam">
        <div class="qbox">
          <label>1. ƒê·ªëi t∆∞·ª£ng c·∫£m x√∫c (ai/s·ª± v·∫≠t/s·ª± vi·ªác)? ‚Äì m·ªü c·∫£m x√∫c</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>M·ªói khi nh·ªõ l·∫°i,</option><option>Nghƒ© ƒë·∫øn,</option><option>ƒê·ªëi v·ªõi m√¨nh,</option><option>Trong l√≤ng m√¨nh,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh nh·ªõ v·ªÅ b√† ngo·∫°i..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>2. X√°c ƒë·ªãnh s·∫Øc th√°i c·∫£m x√∫c ch·ªß ƒë·∫°o</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>C√≥ l·∫Ω,</option><option>Th·∫≠t kh√≥ di·ªÖn t·∫£,</option><option>ƒêi·ªÅu l√†m m√¨nh x√∫c ƒë·ªông l√†,</option>
            </select>
            <textarea class="input-field" placeholder="S·ª± tr√¨u m·∫øn xen l·∫´n t·ª± h√†o..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>3. K·ªâ ni·ªám/chi ti·∫øt g·ª£i c·∫£m x√∫c (1)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>M·ªói l·∫ßn nh∆∞ th·∫ø,</option><option>Kh√¥ng ch·ªâ v·∫≠y,</option><option>ƒê√¥i khi,</option>
            </select>
            <textarea class="input-field" placeholder="M√≥n b√°nh b√† hay l√†m v√†o chi·ªÅu m∆∞a..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>4. K·ªâ ni·ªám/chi ti·∫øt g·ª£i c·∫£m x√∫c (2) ‚Äì h√¨nh ·∫£nh/√¢m thanh/l·ªùi n√≥i</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>H∆°n n·ªØa,</option><option>B√™n c·∫°nh ƒë√≥,</option><option>Th·∫≠m ch√≠,</option>
            </select>
            <textarea class="input-field" placeholder="Ti·∫øng c∆∞·ªùi hi·ªÅn v√† b√†n tay ·∫•m..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>5. Suy ng·∫´m/gi√° tr·ªã (ƒë·ªëi v·ªõi b·∫°n/cu·ªôc s·ªëng)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Ch√≠nh v√¨ th·∫ø,</option><option>C√≥ l·∫Ω v√¨ v·∫≠y m√†,</option><option>ƒêi·ªÅu quan tr·ªçng l√†,</option>
            </select>
            <textarea class="input-field" placeholder="Gia ƒë√¨nh l√† ƒëi·ªÉm t·ª±a y√™u th∆∞∆°ng..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>6. B√†y t·ªè mong mu·ªën/nh·∫Øn g·ª≠i (n·∫øu c√≥)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>N·∫øu c√≥ th·ªÉ,</option><option>M√¨nh mu·ªën,</option><option>M√¨nh ∆∞·ªõc,</option>
            </select>
            <textarea class="input-field" placeholder="Con s·∫Ω c·ªë g·∫Øng h·ªçc t·ªët ƒë·ªÉ kh√¥ng ph·ª• l√≤ng..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>7. Li√™n h·ªá b·∫£n th√¢n/hi·ªán t·∫°i</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T·ª´ ƒë√≥,</option><option>K·ªÉ t·ª´ ·∫•y,</option><option>V√¨ v·∫≠y,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh tr√¢n tr·ªçng h∆°n nh·ªØng kho·∫£nh kh·∫Øc b√™n gia ƒë√¨nh..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>8. K·∫øt ƒëo·∫°n ‚Äì kh·∫≥ng ƒë·ªãnh t√¨nh c·∫£m</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T√≥m l·∫°i,</option><option>D√π th·∫ø n√†o ƒëi n·ªØa,</option><option>Cu·ªëi c√πng,</option>
            </select>
            <textarea class="input-field" placeholder="M√¨nh lu√¥n gi·ªØ g√¨n k√≠ ·ª©c ƒë·∫πp ·∫•y..."></textarea>
          </div>
        </div>
      </div>

      <!-- NGH·ªä LU·∫¨N (10 √Ω) -->
      <div class="section" id="nghiLuan">
        <div class="qbox">
          <label>1. N√™u v·∫•n ƒë·ªÅ (b·ªëi c·∫£nh/hi·ªán t∆∞·ª£ng/v·∫•n ƒë·ªÅ chung)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Hi·ªán nay,</option><option>Trong cu·ªôc s·ªëng,</option><option>Kh√¥ng th·ªÉ ph·ªß nh·∫≠n r·∫±ng,</option><option>Ch√∫ng ta d·ªÖ d√†ng nh·∫≠n th·∫•y r·∫±ng,</option>
            </select>
            <textarea class="input-field" placeholder="Tinh th·∫ßn t·ª± h·ªçc c·ªßa h·ªçc sinh THCS..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>2. Lu·∫≠n ƒëi·ªÉm ch√≠nh (√Ω ki·∫øn c·ªßa b·∫°n)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Tr∆∞·ªõc h·∫øt,</option><option>ƒêi·ªÅu quan tr·ªçng l√†,</option><option>Theo em,</option>
            </select>
            <textarea class="input-field" placeholder="T·ª± h·ªçc quy·∫øt ƒë·ªãnh ph·∫ßn l·ªõn k·∫øt qu·∫£ h·ªçc t·∫≠p..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>3. L√≠ l·∫Ω 1 (v√¨ sao ƒë√∫ng?)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Th·ª© nh·∫•t,</option><option>B√™n c·∫°nh ƒë√≥,</option><option>H∆°n n·ªØa,</option>
            </select>
            <textarea class="input-field" placeholder="T·ª± h·ªçc r√®n t√≠nh k·ªâ lu·∫≠t, ch·ªß ƒë·ªông..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>4. D·∫´n ch·ª©ng cho l√≠ l·∫Ω 1</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Ch·∫≥ng h·∫°n,</option><option>V√≠ d·ª• nh∆∞,</option><option>Th·ª±c t·∫ø cho th·∫•y,</option>
            </select>
            <textarea class="input-field" placeholder="B·∫°n A duy tr√¨ ƒë·ªçc 20 trang/ng√†y..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>5. L√≠ l·∫Ω 2 (b·ªï sung/kh√≠a c·∫°nh kh√°c)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Th·ª© hai,</option><option>Ngo√†i ra,</option><option>M·∫∑t kh√°c,</option>
            </select>
            <textarea class="input-field" placeholder="T·ª± h·ªçc gi√∫p m·ªü r·ªông ki·∫øn th·ª©c v∆∞·ª£t s√°ch gi√°o khoa..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>6. Ph·∫£n bi·ªán ‚Äì n√™u h·∫°n ch·∫ø & c√°ch kh·∫Øc ph·ª•c (ng·∫Øn)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Tuy nhi√™n,</option><option>D·∫´u v·∫≠y,</option><option>ƒê·ªÉ kh·∫Øc ph·ª•c,</option>
            </select>
            <textarea class="input-field" placeholder="Thi·∫øu k·∫ø ho·∫°ch d·ªÖ n·∫£n ‚Üí c·∫ßn l·∫≠p m·ª•c ti√™u nh·ªè, theo d√µi..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>7. M·ªü r·ªông ‚Äì li√™n h·ªá (b·∫£n th√¢n/nh√† tr∆∞·ªùng/x√£ h·ªôi)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>Qua ƒë√≥,</option><option>T·ª´ th·ª±c t·∫ø ·∫•y,</option><option>V√¨ v·∫≠y,</option>
            </select>
            <textarea class="input-field" placeholder="Nh√† tr∆∞·ªùng n√™n t·ªï ch·ª©c gi·ªù t·ª± h·ªçc c√≥ h∆∞·ªõng d·∫´n..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>8. B√†i h·ªçc/ƒë·ªãnh h∆∞·ªõng h√†nh ƒë·ªông (c·ª• th·ªÉ ho√°)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>M·ªói ch√∫ng ta c·∫ßn,</option><option>B·∫£n th√¢n t√¥i nh·∫≠n th·∫•y r·∫±ng,</option><option>Thi·∫øt th·ª±c h∆°n,</option>
            </select>
            <textarea class="input-field" placeholder="L·∫≠p th·ªùi kho√° bi·ªÉu t·ª± h·ªçc 30‚Äì45 ph√∫t m·ªói t·ªëi..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>9. Kh·∫≥ng ƒë·ªãnh l·∫°i lu·∫≠n ƒëi·ªÉm (k·∫øt lu·∫≠n logic)</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T·ª´ nh·ªØng l√≠ l·∫Ω tr√™n,</option><option>C√≥ th·ªÉ kh·∫≥ng ƒë·ªãnh r·∫±ng,</option><option>R√µ r√†ng,</option>
            </select>
            <textarea class="input-field" placeholder="T·ª± h·ªçc l√† ch√¨a kho√° n√¢ng cao k·∫øt qu·∫£ v√† ph·∫©m ch·∫•t h·ªçc t·∫≠p..."></textarea>
          </div>
        </div>
        <div class="qbox">
          <label>10. K·∫øt ƒëo·∫°n ‚Äì th√¥ng ƒëi·ªáp/khuy·∫øn ngh·ªã</label>
          <div class="row2">
            <select class="connector">
              <option value="">-- Kh√¥ng d√πng t·ª´ n·ªëi --</option>
              <option>T√≥m l·∫°i,</option><option>Sau c√πng,</option><option>Thi·∫øt nghƒ©,</option>
            </select>
            <textarea class="input-field" placeholder="M·ªói h·ªçc sinh h√£y b·∫Øt ƒë·∫ßu t·ª´ nh·ªØng vi·ªác nh·ªè h√¥m nay..."></textarea>
          </div>
        </div>
      </div>
    </div>

    <!-- K·∫æT QU·∫¢ -->
    <div class="card">
      <h3><span class="emoji">üìö</span> 4) ƒêo·∫°n vƒÉn ho√†n ch·ªânh</h3>
      <div class="note">Sau khi tr·∫£ l·ªùi xong c√°c √Ω, nh·∫•n <b>Gh√©p ƒëo·∫°n vƒÉn</b>. B·∫°n c√≥ th·ªÉ ch·ªânh s·ª≠a tr·ª±c ti·∫øp trong √¥ d∆∞·ªõi.</div>
      <textarea id="result" placeholder="ƒêo·∫°n vƒÉn c·ªßa b·∫°n s·∫Ω hi·ªán ·ªü ƒë√¢y sau khi b·∫•m &quot;Gh√©p ƒëo·∫°n vƒÉn&quot;."></textarea>
    </div>

    <div class="footer">·ª®ng d·ª•ng h·ªó tr·ª£ vi·∫øt ƒëo·∫°n vƒÉn cho h·ªçc sinh ¬∑ Kh√¥ng c·∫ßn Internet ¬∑ ¬© Nh√≥m d·ª± √°n</div>
  </div>

<script>
  // Tabs (ki·ªÉu ƒëo·∫°n)
  const tabs = document.querySelectorAll('.tab');
  const sections = document.querySelectorAll('.section');
  const resultArea = document.getElementById('result');

  function hideAllSections(){ sections.forEach(s=>s.classList.remove('active')); }
  function deactivateTabs(){ tabs.forEach(t=>t.classList.remove('active')); }

  tabs.forEach(tab=>{
    tab.addEventListener('click', ()=>{
      deactivateTabs(); 
      tab.classList.add('active');
      hideAllSections();
      const id = tab.getAttribute('data-target');
      document.getElementById(id).classList.add('active');
      resultArea.value=''; 
      updateCounts('');
    });
  });
  // M·ªü m·∫∑c ƒë·ªãnh tab ƒë·∫ßu ti√™n
  tabs[0].click();

  // Tham chi·∫øu c√¥ng c·ª•
  const joinBtn        = document.getElementById('joinBtn');
  const copyBtn        = document.getElementById('copyBtn');
  const downloadTxtBtn = document.getElementById('downloadTxtBtn');
  const downloadDocBtn = document.getElementById('downloadDocBtn');
  const printBtn       = document.getElementById('printBtn');
  const clearBtn       = document.getElementById('clearBtn');

  const wordCountSpan  = document.getElementById('wordCount');
  const sentenceCountSpan = document.getElementById('sentenceCount');
  const barWords       = document.getElementById('barWords');
  const barSent        = document.getElementById('barSent');
  const statusWords    = document.getElementById('statusWords');
  const statusSent     = document.getElementById('statusSent');

  const targetSent     = document.getElementById('targetSent');
  const targetWords    = document.getElementById('targetWords');
  const autoDot        = document.getElementById('autoDot');
  const skipEmpty      = document.getElementById('skipEmpty');
  const topicEl        = document.getElementById('topic');

  // --- Tr·ª£ gi√∫p chu·∫©n ho√° & c√¢u ---
  function normalizeSpaces(text){
    if(!text) return "";
    text = text.replace(/\s+/g, " ");                      // G·ªôp nhi·ªÅu kho·∫£ng tr·∫Øng
    text = text.replace(/\s+([.,;:!?‚Ä¶])/g, "$1");          // B·ªè kho·∫£ng tr·∫Øng tr∆∞·ªõc d·∫•u c√¢u
    text = text.replace(/([.,;:!?‚Ä¶])(?!\s|$)/g, "$1 ");    // Th√™m kho·∫£ng tr·∫Øng sau d·∫•u c√¢u
    text = text.replace(/\s+([)\]}‚Äù‚Äô])/g, "$1");           // B·ªè kho·∫£ng tr∆∞·ªõc ngo·∫∑c ƒë√≥ng
    text = text.replace(/([(\[{‚Äú‚Äò])\s+/g, "$1");           // B·ªè kho·∫£ng sau ngo·∫∑c m·ªü
    return text.trim();
  }
  function ensureFinalPunct(text){
    if(!text) return "";
    if(!/[.!?‚Ä¶]$/.test(text)) text += ".";
    return text;
  }
  function capitalizeFirst(text){
    if(!text) return "";
    return text.charAt(0).toLocaleUpperCase('vi') + text.slice(1);
  }
  function splitSentences(text){
    return text.trim().split(/[.!?‚Ä¶]+/u).filter(s=>s.trim().length>0);
  }
  function updateCounts(text){
    const trimmed = (text||'').trim();
    const words = trimmed? trimmed.split(/\s+/).length : 0;
    const sents = trimmed? splitSentences(trimmed).length : 0;

    wordCountSpan.textContent = words;
    sentenceCountSpan.textContent = sents;

    const tW = Math.max(1, parseInt(targetWords.value||0));
    const tS = Math.max(1, parseInt(targetSent.value||0));
    const pW = Math.min(100, Math.round(100*words/tW));
    const pS = Math.min(100, Math.round(100*sents/tS));
    barWords.style.width = pW + '%';
    barSent .style.width = pS + '%';

    function setStatus(el, cur, tgt, label){
      el.classList.remove('low','high');
      if(cur < tgt) {
        el.classList.add('low'); 
        el.textContent = label + 'ch∆∞a ƒë·∫°t';
      } else if(cur > tgt*1.5) {
        el.classList.add('high'); 
        el.textContent = label + 'v∆∞·ª£t qu√°';
      } else {
        el.textContent = label + 'ƒë·∫°t m·ª•c ti√™u';
      }
    }
    setStatus(statusWords, words, tW, 'T·ª´: ');
    setStatus(statusSent,  sents, tS, 'C√¢u: ');
  }

  // Gh√©p ƒëo·∫°n (c√≥ t·ª´ n·ªëi + t·ª± vi·∫øt hoa + chu·∫©n ho√°)
  joinBtn.addEventListener('click', ()=>{
    const active = document.querySelector('.section.active');
    if(!active){ 
      alert('B·∫°n h√£y ch·ªçn ki·ªÉu ƒëo·∫°n vƒÉn tr∆∞·ªõc.'); 
      return; 
    }

    const inputs = active.querySelectorAll('.input-field');
    const connectors = active.querySelectorAll('.connector');
    const parts = [];

    inputs.forEach((input, idx)=>{
      let text = (input.value || "").trim();
      if(!text && skipEmpty.checked) return;

      text = normalizeSpaces(text);
      if(text && autoDot.checked) text = ensureFinalPunct(text);
      text = capitalizeFirst(text);

      let conn = connectors[idx] ? (connectors[idx].value || "").trim() : "";
      if(conn){ text = normalizeSpaces(conn + " " + text); }

      if(text) parts.push(text);
    });

    let paragraph = parts.join(" ");
    paragraph = normalizeSpaces(paragraph);

    resultArea.value = paragraph;
    updateCounts(paragraph);
    resultArea.scrollIntoView({behavior:'smooth', block:'center'});
    saveDraft();
  });

  // Sao ch√©p (Clipboard API + fallback)
  copyBtn.addEventListener('click', ()=>{
    const text = resultArea.value.trim();
    if(!text){ 
      alert('Ch∆∞a c√≥ ƒëo·∫°n vƒÉn ƒë·ªÉ sao ch√©p.'); 
      return; 
    }
    if(navigator.clipboard && navigator.clipboard.writeText){
      navigator.clipboard.writeText(text)
        .then(()=> alert('ƒê√£ sao ch√©p ƒëo·∫°n vƒÉn. B·∫°n c√≥ th·ªÉ d√°n v√†o Word/Docs.'))
        .catch(()=>{
          resultArea.select();
          document.execCommand('copy');
          alert('ƒê√£ sao ch√©p ƒëo·∫°n vƒÉn (d√πng ph∆∞∆°ng th·ª©c d·ª± ph√≤ng).');
        });
    }else{
      resultArea.select();
      document.execCommand('copy');
      alert('ƒê√£ sao ch√©p ƒëo·∫°n vƒÉn.');
    }
  });

  function makeSafeTitle(raw){
    return (raw || 'doan_van')
      .trim()
      .substring(0,60)
      .replace(/[^\p{L}\p{N}\-_ ]/gu,'') || 'doan_van';
  }

  // T·∫£i .txt
  downloadTxtBtn.addEventListener('click', ()=>{
    const text = resultArea.value.trim();
    if(!text){ 
      alert('Ch∆∞a c√≥ ƒëo·∫°n vƒÉn ƒë·ªÉ t·∫£i.'); 
      return; 
    }
    const title = makeSafeTitle(topicEl.value);
    const blob = new Blob([text], {type:'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url; 
    a.download = title + '.txt';
    document.body.appendChild(a); 
    a.click();
    URL.revokeObjectURL(url); 
    a.remove();
  });

  // Escape ƒë∆°n gi·∫£n cho HTML
  function escapeHtml(str){
    return (str || '').replace(/[&<>"']/g, function(m){
      switch(m){
        case '&': return '&amp;';
        case '<': return '&lt;';
        case '>': return '&gt;';
        case '"': return '&quot;';
        case "'": return '&#39;';
        default: return m;
      }
    });
  }

  // T·∫£i .doc (Word ƒë·ªçc ƒë∆∞·ª£c)
  downloadDocBtn.addEventListener('click', ()=>{
    const text = resultArea.value.trim();
    if(!text){
      alert('Ch∆∞a c√≥ ƒëo·∫°n vƒÉn ƒë·ªÉ t·∫£i.');
      return;
    }

    const title = makeSafeTitle(topicEl.value);
    const studentName  = document.getElementById('studentName').value || '';
    const studentClass = document.getElementById('studentClass').value || '';

    const header = `
      <html xmlns:o='urn:schemas-microsoft-com:office:office'
            xmlns:w='urn:schemas-microsoft-com:office:word'
            xmlns='http://www.w3.org/TR/REC-html40'>
      <head><meta charset='utf-8'><title>${escapeHtml(title)}</title></head><body>`;
    const footer = "</body></html>";

    const infoHtml = `
      <h2 style="text-align:center;font-family:Segoe UI,Arial,sans-serif;">${escapeHtml(title)}</h2>
      <p style="font-family:Segoe UI,Arial,sans-serif;font-size:14px;">
        <b>H·ªç v√† t√™n:</b> ${escapeHtml(studentName)}<br/>
        <b>L·ªõp:</b> ${escapeHtml(studentClass)}
      </p>
      <hr/>
    `;

    const paragraphHtml = `<p style="font-family:Segoe UI,Arial,sans-serif;font-size:15px;line-height:1.6;text-align:justify;">${
      escapeHtml(text).replace(/\n/g,"<br/>")
    }</p>`;

    const sourceHTML = header + infoHtml + paragraphHtml + footer;
    const blob = new Blob(['\ufeff', sourceHTML], {type:'application/msword;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = title + '.doc';
    document.body.appendChild(a);
    a.click();
    URL.revokeObjectURL(url);
    a.remove();
  });

  // In
  printBtn.addEventListener('click', ()=>{
    if(!resultArea.value.trim()){
      alert('Ch∆∞a c√≥ ƒëo·∫°n vƒÉn ƒë·ªÉ in.');
      return;
    }
    window.print();
  });

  // L√†m m·ªõi
  clearBtn.addEventListener('click', ()=>{
    if(!confirm('Xo√° to√†n b·ªô n·ªôi dung ƒë√£ nh·∫≠p?')) return;
    document.querySelectorAll('.input-field').forEach(t=>t.value='');
    document.querySelectorAll('.connector').forEach(s=>s.value='');
    topicEl.value = '';
    resultArea.value=''; 
    updateCounts('');
    saveDraft();
    window.scrollTo({top:0,behavior:'smooth'});
  });

  // L∆∞u t·∫°m b·∫±ng localStorage (nh·∫π)
  function saveDraft(){
    const data = {
      topic: topicEl.value,
      result: resultArea.value
    };
    try{
      localStorage.setItem('paragraphDraft_v1', JSON.stringify(data));
    }catch(e){}
  }
  function loadDraft(){
    try{
      const raw = localStorage.getItem('paragraphDraft_v1');
      if(!raw) return;
      const data = JSON.parse(raw);
      if(data.topic) topicEl.value = data.topic;
      if(data.result){
        resultArea.value = data.result;
        updateCounts(data.result);
      }
    }catch(e){}
  }
  loadDraft();

  // ƒê·∫øm khi ng∆∞·ªùi d√πng ch·ªânh s·ª≠a k·∫øt qu·∫£ / thay m·ª•c ti√™u
  resultArea.addEventListener('input', ()=>{
    updateCounts(resultArea.value);
    saveDraft();
  });
  targetWords.addEventListener('input', ()=> updateCounts(resultArea.value));
  targetSent .addEventListener('input', ()=> updateCounts(resultArea.value));
  topicEl.addEventListener('input', saveDraft);

  // Kh·ªüi t·∫°o
  updateCounts('');
</script>

<!-- G·ª£i √Ω in nh·∫π nh√†ng: ch·ªâ l√† CSS, c√≥ th·ªÉ ch·ªânh th√™m n·∫øu mu·ªën -->
<style>
@media print {
  body{
    background:#ffffff !important;
  }
  .hero, .grid, .footer{
    display:none !important;
  }
  #result{
    border:0;
    box-shadow:none;
    background:#ffffff;
    font-size:16px;
    line-height:1.6;
  }
  .wrap{
    max-width:700px;
    margin:0 auto;
  }
}
</style>

</body>
</html>
